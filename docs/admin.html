<!doctype html>

<html lang="en">
<head>



  <meta charset="utf-8">

  <title>manage kids goals</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style type="text/css">
	body{
		font-family: 'Montserrat', sans-serif;
		font-size: 17px;
		font-weight: 400;
	}

	#wrapper{
		padding:15px;
	}

	.change_score .far{
		font-size: 64px;
		font-weight: 300;		
	}
	.change_score{
		font-size: 64px;
		display: inline-block;
		width:100%;
	}
	.main{
		border-radius: 8px;
		color: #ffffff;
  		text-align: center;
  		padding:15px;
	}
	.kid.first .main{
		background: linear-gradient(45deg, #FC466B 0%, #3F5EFB 100%);
	}
	.kid.second .main{
		background: linear-gradient(45deg, #69D200 0%, #F3DC0B 100%);
	}
	.change_score > div{
		text-align: center;
		width: 33%;
		float: left;
	}
	.kid{
  		padding-top: 30px;
	}

	.kid_name{
		font-size: 32px;
	}
	
	h1{
		font-size: 24px;
		font-weight: 700;
		text-align: center;
	}

	.info{
		text-align: left;
		padding:20px 30px;
		display: inline-block;
		width:100%;
		box-sizing: border-box;
	}
	.info > div{
		float:left;
		width:50%;
	}
	.goal{
		font-size: 48px;
	}
	sup{
		font-size: 19px;
	}
	.reward{
		font-size: 19px;
	}
	.label{
		font-size: 15px;
		opacity: 0.5;
		font-weight: 400;
	}
	.select_increment ul{
		width:70%;
		position: relative;
		background:rgba(0,0,0,0.2 );
		display: inline-block;
		margin: 20px 0 0 0;
		padding: 0;
		border-radius: 4px;
	}
	.select_increment li{
		width: 25%;
		list-style: none;
		float: left;
		text-align: center;
	}
	
	.select_increment input{
		visibility:hidden;
		margin: 0;
		float: left;
	}
	.select_increment label {
    	cursor: pointer;
    	display: block;
    	padding: 15px 0;
	}
	.select_increment input:checked + label {
    	background: rgba(0,0,0,0.6);
	}

	.select_increment input.first + label{
		border-radius: 6px 0 0 6px;
	}

	.select_increment input.last + label{
		border-radius: 0 6px 6px 0;
	}


</style>

<script src="https://kit.fontawesome.com/35f7aef1c0.js" crossorigin="anonymous"></script>

</head>

<body>
  
  <div id="wrapper">

	<h1>Manage kids score</h1>

	<!-- kid #1 -->

 	<div class="kid first">
 		
 		<div class="main">
 			<div class="kid_name">Rotem</div>
	 		<div class="change_score">

	 			<div class="minus" onclick="getIncrement(-1, 'rotem', 'mobile')">
	 				<!-- <i class="far fa-minus-circle"></i> -->
	 			</div>
	 			
	 			<div class="score">222</div>
	 			
	 			<div class="plus" onclick="getIncrement(1, 'rotem', 'mobile')">
	 				<!-- <i class="far fa-plus-circle"></i> -->
	 			</div>
	 		</div>
	 		<div class="select_increment">

	 			<ul>
	 				<li>
	 					<input type="radio" id="one" name="inc" value="1" checked class="first" onclick="updateIncrement(1)">
						<label for="one">1</label>
	 				</li>
	 				<li>
	 					<input type="radio" id="two" name="inc" value="2" onclick="updateIncrement(2)">
						<label for="two">2</label>
	 				</li>
	 				<li>
						<input type="radio" id="five" name="inc" value="5" onclick="updateIncrement(5)">
						<label for="five">5</label>
	 				</li>
	 				<li>
	 					<input type="radio" id="ten" name="inc" value="10" class="last" onclick="updateIncrement(10)">
						<label for="ten">10</label>
	 				</li>
	 			</ul>
	 		</div>
 		</div>
 		<div class="info">
			<div class="score_status">
 				<div class="label">Goal</div>
 				<div class="goal">250</div>
			</div>
			<div class="reward">
 				<div class="label">Reward</div>
 				<div>New Xiaomi A3 64GB</div>
			</div>
		</div>
 	</div>

 	
  		
  		<!-- <div id="increment">
  			<input type="number" pattern="[0-9]+" inputmode="numeric" name="scoreIncrement" id="scoreIncrement" value="1">
  		</div> -->
  	
 </div>

<script type="text/javascript">

	function getIncrement(updown,kid,category){
		updateScore(updown*parseInt(document.getElementById('scoreIncrement').value), kid, category);
	}

	function updateScore (amount, kid, category) {
	    // const URI = 'https://datawaves.io/api/v1.0/projects/bppnu7223akg0274c7dg/events/score'
	    const URI = 'https://goals-i9rlmguq9ba8.runkit.sh/'
	    fetch(URI, {
	        method: 'POST', 
			mode: 'no-cors',
	        headers: {
	            // Authorization: '09c166a6875c4rrWhvbVrJSWfWK1VcLi4b859e3b607cd090dd0c',
	            "Content-Type": "application/json"
	        },
	        body: JSON.stringify({
	            kid, amount, category
	        })
	    })
	    .then( (httpResponse) => {
	        console.log("Sent data to datawaves. response ok:" + httpResponse.ok)
	    })
	}

	//var increment = document.getElementById('scoreIncrement').value;
    
	function updateIncrement(inc){
		document.querySelector(".minus").innerHTML = -1*inc;
        document.querySelector(".plus").innerHTML = inc;
	};
    updateIncrement(1);

</script>

</body>
</html>